<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SVG Group Click Toggle and Duplicate</title>
    <style>
        /* Style to visually indicate the group is clickable */
        .clickableGroup {
            cursor: pointer;
        }
        /* Ensure SVGs are inline */
        .containerSVG {
            display: flex;
            vertical-align: top;
            margin-right:-20px;
        }
        .dynamic-svg{
            margin-right:-20px;
        }
        .scrolling-container {
    width: 100%; /* or any fixed width */
    overflow-x: auto; /* Enable horizontal scrolling */
    white-space: nowrap; /* Prevent wrapping of inline elements */
}

.svg-wrapper {
    display: flex; /* Use flexbox to layout children inline */
    flex-direction: row; /* Arrange children in a row */
}

  /* Style the buttons to display inline */
  .inline-button {
    display: inline-block; /* Display buttons inline */
    margin-right: 10px; /* Add some space between buttons */
    padding: 10px 20px; /* Padding for button size */
    background-color: #007bff; /* Button color */
    color: white; /* Text color */
    border: none; /* Remove border */
    cursor: pointer; /* Change mouse cursor on hover */
  }
  /* Change background color on hover */
  .inline-button:hover {
    background-color: #0056b3;
  }

    </style>
</head>
<body>

    <div class="scrolling-container">
        <div class="svg-wrapper">
            <div class="earth">
                <svg width="160" height="200" xmlns="http://www.w3.org/2000/svg">
                    <g class="earthSw" id="group1">
                     <title>Layer 1</title>
                     <text xml:space="preserve" text-anchor="start" font-family="'Archivo'" font-size="16" id="svg_21" y="16.00065" x="51.30104" stroke-width="0" stroke="#00bf00" fill="#000000">EARTH</text>
                     <line stroke="#bf0000" stroke-linecap="undefined" stroke-linejoin="undefined" id="svg_1" y2="23.16787" x2="161.10981" y1="23.16787" x1="-1.26523" stroke-width="3" fill="none"/>
                     <line stroke="#00bf00" stroke-linecap="undefined" stroke-linejoin="undefined" id="svg_2" y2="61.89527" x2="79.90199" y1="21.5012" x1="79.90199" stroke-width="3" fill="none"/>
                     <line stroke="#00bf00" stroke-linecap="undefined" stroke-linejoin="undefined" id="svg_3" y2="153.26288" x2="79.90199" y1="82.83478" x1="79.90199" stroke-width="3" fill="none"/>
                     <line stroke="#00bf00" stroke-linecap="undefined" stroke-linejoin="undefined" id="earthLine" y2="60.88111" x2="79.91355" y1="82.94745" x1="79.91355" stroke-width="3" fill="none"/>
                     <line stroke="#bf5f00" id="svg_16" y2="54.36771" x2="83.43487" y1="62.0344" x1="76.43485" fill="none"/>
                     <line stroke="#bf5f00" id="svg_17" y2="62.0344" x2="83.43487" y1="54.70105" x1="76.43485" fill="none"/>
                     <line stroke="#00bf00" stroke-linecap="undefined" stroke-linejoin="undefined" id="svg_12" y2="153.61789" x2="88.68459" y1="153.61789" x1="71.35121" stroke-width="3" fill="none"/>
                     <line stroke-linecap="undefined" stroke-linejoin="undefined" id="svg_13" y2="157.95124" x2="86.36834" y1="157.95124" x1="73.35122" stroke-width="3" stroke="#00bf00" fill="none"/>
                     <line stroke="#00bf00" stroke-linecap="undefined" stroke-linejoin="undefined" id="svg_14" y2="162.28458" x2="84.35819" y1="162.28458" x1="75.60123" stroke-width="3" fill="none"/>
                    </g>
                   
                   </svg>
            </div>
            
            <div id="svgContainer"></div> <!-- Container for dynamically generated SVGs -->
        
            <div class="earth">
                <svg width="160" height="200" xmlns="http://www.w3.org/2000/svg">
                    <g class="earthSw" id="group2">
                     <title>Layer 1</title>
                     <text xml:space="preserve" text-anchor="start" font-family="'Archivo'" font-size="16" id="svg_21" y="16.00065" x="51.30104" stroke-width="0" stroke="#00bf00" fill="#000000">EARTH</text>
                     <line stroke="#bf0000" stroke-linecap="undefined" stroke-linejoin="undefined" id="svg_1" y2="23.16787" x2="161.10981" y1="23.16787" x1="-1.26523" stroke-width="3" fill="none"/>
                     <line stroke="#00bf00" stroke-linecap="undefined" stroke-linejoin="undefined" id="svg_2" y2="61.89527" x2="79.90199" y1="21.5012" x1="79.90199" stroke-width="3" fill="none"/>
                     <line stroke="#00bf00" stroke-linecap="undefined" stroke-linejoin="undefined" id="svg_3" y2="153.26288" x2="79.90199" y1="82.83478" x1="79.90199" stroke-width="3" fill="none"/>
                     <line stroke="#00bf00" stroke-linecap="undefined" stroke-linejoin="undefined" id="earthLine1" y2="60.88111" x2="79.91355" y1="82.94745" x1="79.91355" stroke-width="3" fill="none"/>
                     <line stroke="#bf5f00" id="svg_16" y2="54.36771" x2="83.43487" y1="62.0344" x1="76.43485" fill="none"/>
                     <line stroke="#bf5f00" id="svg_17" y2="62.0344" x2="83.43487" y1="54.70105" x1="76.43485" fill="none"/>
                     <line stroke="#00bf00" stroke-linecap="undefined" stroke-linejoin="undefined" id="svg_12" y2="153.61789" x2="88.68459" y1="153.61789" x1="71.35121" stroke-width="3" fill="none"/>
                     <line stroke-linecap="undefined" stroke-linejoin="undefined" id="svg_13" y2="157.95124" x2="86.36834" y1="157.95124" x1="73.35122" stroke-width="3" stroke="#00bf00" fill="none"/>
                     <line stroke="#00bf00" stroke-linecap="undefined" stroke-linejoin="undefined" id="svg_14" y2="162.28458" x2="84.35819" y1="162.28458" x1="75.60123" stroke-width="3" fill="none"/>
                    </g>
                   
                   </svg>
            </div>
        </div>
    </div>

    <button class="inline-button">MV A Switchroom</button>
<button class="inline-button">MV B Switchroom</button>
<button class="inline-button">Generators</button>
<button class="inline-button">Generators</button>

       

<script>
document.addEventListener('DOMContentLoaded', function() {
    const titles = ["Spare", "Data Hall 12", "Data Hall 11", "Data Hall 10", "Data Hall 9", "Data Hall 8", "Data Hall 7", "Data Hall 2", "Data Hall 4", "Data Hall 3", "Data Hall 6", "MVA 1", "Data Hall 1"]; // Example titles
    generateSVGs(titles);
});

function generateSVGs(titles) {
    const container = document.getElementById('svgContainer');
    titles.forEach((title, index) => {
        // Unique IDs for each SVG instance
        const lvGroupId = `lvGroup${index}`;
        const hvGroupId = `hvGroup${index}`;
        const lineAId = `lineA${index}`;
        const lineBId = `lineB${index}`;

        // SVG template string with dynamic IDs and title
        let svgTemplate = `
            <svg class="dynamic-svg" width="160" height="200" xmlns="http://www.w3.org/2000/svg">
                <g id="Layer_${index}">
                    <title>Layer ${index}</title>
                    <text xml:space="preserve" text-anchor="start" font-family="'Archivo'" font-size="16" id="textTitle${index}" y="16.00065" x="51.30104" stroke-width="0" stroke="#00bf00" fill="#000000">${title}</text>
                    <g id="${lvGroupId}" class="clickableGroup">
                        <line stroke="#00bf00" stroke-linecap="undefined" stroke-linejoin="undefined" id="svg_2" y2="62.89527" x2="79.90199" y1="22.5012" x1="79.90199" stroke-width="3" fill="none"/>
                        <line stroke="#00bf00" stroke-linecap="undefined" stroke-linejoin="undefined" id="svg_3" y2="182.26288" x2="79.90199" y1="83.83478" x1="79.90199" stroke-width="3" fill="none"/>
                        <line stroke="#00bf00" stroke-linecap="undefined" stroke-linejoin="undefined" id="${lineAId}" y2="61.88111" x2="79.91355" y1="83.94745" x1="79.91355" stroke-width="3" fill="none"/>
                        <path transform="rotate(178.415 80.1639 184.658)" stroke="#00bf00" id="svg_20" d="m78.63261,184.65193l1.53132,-2.65721l1.53132,2.65721l-0.76566,0l0,2.66999l-1.53132,0l0,-2.66999l-0.76566,0z" stroke-width="3" fill="none"/>
                    </g>
                        <line stroke="#bf5f00" id="svg_16" y2="55.36771" x2="83.43487" y1="63.0344" x1="76.43485" fill="none"/>
                        <line stroke="#bf5f00" id="svg_17" y2="63.0344" x2="83.43487" y1="55.70105" x1="76.43485" fill="none"/>
                        <line stroke="#bf0000" stroke-linecap="undefined" stroke-linejoin="undefined" id="svg_1" y2="23.16787" x2="161.10981" y1="23.16787" x1="-1.26523" stroke-width="3" fill="none"/>
                    <g id="${hvGroupId}" class="clickableGroup">
                        <line stroke-linecap="undefined" stroke-linejoin="undefined" id="svg_5" y2="102.0345" x2="26.28493" y1="102.0345" x1="79.76819" stroke-width="3" stroke="#00bf00" fill="none"/>
          <line stroke-linecap="undefined" stroke-linejoin="undefined" id="svg_9" y2="120.74714" x2="27.76805" y1="101.36783" x1="27.76805" stroke-width="3" stroke="#00bf00" fill="none"/>
          <line stroke="#00bf00" stroke-linecap="undefined" stroke-linejoin="undefined" id="${lineBId}" y2="120.02364" x2="27.76805" y1="141.20125" x1="27.76805" stroke-width="3" fill="none"/>
          <line stroke-linecap="undefined" stroke-linejoin="undefined" id="svg_11" y2="154.36797" x2="27.76805" y1="139.70127" x1="27.76805" stroke-width="3" stroke="#00bf00" fill="none"/>
          <line stroke="#00bf00" stroke-linecap="undefined" stroke-linejoin="undefined" id="svg_12" y2="154.36797" x2="36.43474" y1="154.36797" x1="19.10136" stroke-width="3" fill="none"/>
          <line stroke-linecap="undefined" stroke-linejoin="undefined" id="svg_13" y2="158.70132" x2="34.11849" y1="158.70132" x1="21.10137" stroke-width="3" stroke="#00bf00" fill="none"/>
          <line stroke="#00bf00" stroke-linecap="undefined" stroke-linejoin="undefined" id="svg_14" y2="163.03466" x2="32.10834" y1="163.03466" x1="23.35138" stroke-width="3" fill="none"/>
          <line stroke="#00bf00" stroke-linecap="undefined" stroke-linejoin="undefined" id="svg_18" y2="119.70121" x2="33.48301" y1="119.70121" x1="22.10137" stroke-width="3" fill="none"/>
                    </g>
                    <!-- Other SVG content -->
                </g>
            </svg>
        `;

        // Append the SVG to the container
        container.insertAdjacentHTML('beforeend', svgTemplate);

        // Attach event listeners to the newly created SVG elements
        attachEventListeners(lvGroupId, lineAId, hvGroupId, lineBId);
    });
}

function attachEventListeners(lvGroupId, lineAId, hvGroupId, lineBId) {
    const lvGroup = document.getElementById(lvGroupId);
    const hvGroup = document.getElementById(hvGroupId);
    const lineA = document.getElementById(lineAId);
    const lineB = document.getElementById(lineBId);

    lvGroup.addEventListener('click', function() {
        // Toggle functionality for lvGroup
        this.querySelectorAll('line, path').forEach(elem => {
            elem.setAttribute('stroke', elem.getAttribute('stroke') === '#00bf00' ? 'red' : '#00bf00');
        });
        lineA.setAttribute('x2', lineA.getAttribute('x2') === '79.91355' ? '95' : '79.91355');
    });

    hvGroup.addEventListener('click', function() {
        // Toggle functionality for hvGroup
        lineB.setAttribute('x2', lineB.getAttribute('x2') === '27.76805' ? '42' : '27.76805');
        lineB.setAttribute('y2', lineB.getAttribute('y2') === '120.02364' ? '123' : '120.02364');
    });
}

document.addEventListener("DOMContentLoaded", function() {
    // Function to toggle the x2 attribute value for a specific line
    function toggleX2(event) {
        // Determine which group was clicked and select the corresponding line
        var groupId = event.currentTarget.getAttribute('id');
        var lineId = groupId === "group1" ? "earthLine" : "earthLine1";
        var line = document.getElementById(lineId);

        var currentX2 = line.getAttribute("x2");
        var originalX2 = line.dataset.originalX2 || "79.91355"; // Assuming the original value is 79.91355

        // Toggle the x2 attribute
        if (currentX2 === "94") {
            line.setAttribute("x2", originalX2);
        } else {
            // Save the original x2 value if not already saved
            if (!line.dataset.originalX2) {
                line.dataset.originalX2 = currentX2;
            }
            line.setAttribute("x2", "94");
        }
    }

    // Assign IDs to the group elements for easier selection
    // Assuming you add these IDs directly in the HTML or dynamically via script
    // <g class="earthSw" id="group1">...</g>
    // <g class="earthSw" id="group2">...</g>

    // Get the group elements by their new IDs
    var group1 = document.getElementById("group1");
    var group2 = document.getElementById("group2");

    // Attach the click event listener to each group
    if(group1) group1.addEventListener("click", toggleX2);
    if(group2) group2.addEventListener("click", toggleX2);
});


</script>

</body>
</html>